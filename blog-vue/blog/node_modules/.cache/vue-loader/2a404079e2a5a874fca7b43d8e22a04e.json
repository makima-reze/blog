{"remainingRequest":"E:\\2023holiday\\java\\demo\\demo3-blog-X1192176811\\blog-master\\blog-vue\\blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\2023holiday\\java\\demo\\demo3-blog-X1192176811\\blog-master\\blog-vue\\blog\\src\\views\\edit\\Edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\2023holiday\\java\\demo\\demo3-blog-X1192176811\\blog-master\\blog-vue\\blog\\src\\views\\edit\\Edit.vue","mtime":1672195321170},{"path":"E:\\2023holiday\\java\\demo\\demo3-blog-X1192176811\\blog-master\\blog-vue\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\2023holiday\\java\\demo\\demo3-blog-X1192176811\\blog-master\\blog-vue\\blog\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\2023holiday\\java\\demo\\demo3-blog-X1192176811\\blog-master\\blog-vue\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\2023holiday\\java\\demo\\demo3-blog-X1192176811\\blog-master\\blog-vue\\blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgKiBhcyBpbWFnZUNvbnZlcnNpb24gZnJvbSAiaW1hZ2UtY29udmVyc2lvbiI7DQpleHBvcnQgZGVmYXVsdCB7DQogIGNyZWF0ZWQoKSB7DQogICAgY29uc3QgcGF0aCA9IHRoaXMuJHJvdXRlLnBhdGg7DQogICAgY29uc3QgYXJyID0gcGF0aC5zcGxpdCgiLyIpOw0KICAgIGNvbnN0IGFydGljbGVJZCA9IGFyclsyXTsNCiAgICBpZiAoYXJ0aWNsZUlkKSB7DQogICAgICB0aGlzLmF4aW9zLmdldCgiL2FwaS9lZGl0LyIgKyBhcnRpY2xlSWQpLnRoZW4oKHsgZGF0YSB9KSA9PiB7DQogICAgICAgIHRoaXMuYXJ0aWNsZSA9IGRhdGEuZGF0YTsNCiAgICAgIH0pOw0KICAgIH0gZWxzZSB7DQogICAgICBjb25zdCBhcnRpY2xlID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYXJ0aWNsZSIpOw0KICAgICAgaWYgKGFydGljbGUpIHsNCiAgICAgICAgdGhpcy5hcnRpY2xlID0gSlNPTi5wYXJzZShhcnRpY2xlKTsNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGRlc3Ryb3llZCgpIHsNCiAgICAvL+aWh+eroOiHquWKqOS/neWtmOWKn+iDvQ0KICAgIHRoaXMuYXV0b1NhdmVBcnRpY2xlKCk7DQogIH0sDQogIGRhdGE6IGZ1bmN0aW9uICgpIHsNCiAgICByZXR1cm4gew0KICAgICAgYWRkT3JFZGl0OiBmYWxzZSwNCiAgICAgIGF1dG9TYXZlOiB0cnVlLA0KICAgICAgY2F0ZWdvcnlOYW1lOiAiIiwNCiAgICAgIHRhZ05hbWU6ICIiLA0KICAgICAgY2F0ZWdvcnlMaXN0OiBbXSwNCiAgICAgIHRhZ0xpc3Q6IFtdLA0KICAgICAgdHlwZUxpc3Q6IFsNCiAgICAgICAgew0KICAgICAgICAgIHR5cGU6IDEsDQogICAgICAgICAgZGVzYzogIuWOn+WImyIsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0eXBlOiAyLA0KICAgICAgICAgIGRlc2M6ICLovazovb0iLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdHlwZTogMywNCiAgICAgICAgICBkZXNjOiAi57+76K+RIiwNCiAgICAgICAgfSwNCiAgICAgIF0sDQogICAgICBhcnRpY2xlOiB7DQogICAgICAgIGlkOiBudWxsLA0KICAgICAgICBhcnRpY2xlVGl0bGU6IHRoaXMuJG1vbWVudChuZXcgRGF0ZSgpKS5mb3JtYXQoIllZWVktTU0tREQiKSwNCiAgICAgICAgYXJ0aWNsZUNvbnRlbnQ6ICIiLA0KICAgICAgICBhcnRpY2xlQ292ZXI6ICIiLA0KICAgICAgICBjYXRlZ29yeU5hbWU6IG51bGwsDQogICAgICAgIHRhZ05hbWVMaXN0OiBbXSwNCiAgICAgICAgb3JpZ2luYWxVcmw6ICIiLA0KICAgICAgICBpc1RvcDogMCwNCiAgICAgICAgdHlwZTogMSwNCiAgICAgICAgc3RhdHVzOiAxLA0KICAgICAgfSwNCiAgICAgIGNvdmVyOnsNCiAgICAgIGJhY2tncm91bmRJbWFnZTogInVybCgiICsgcmVxdWlyZSgiLi4vLi4vYXNzZXRzL2ZpZy9lZGl0LnBuZyIpICsgIikiLA0KICAgICAgYmFja2dyb3VuZFJlcGVhdDogIm5vLXJlcGVhdCIsDQogICAgICBiYWNrZ3JvdW5kUG9zaXRpb246ImNlbnRlciBjZW50ZXIiLA0KICAgICAgb3BhY2l0eToxLA0KICAgICAgYmFja2dyb3VuZFNpemU6ICIxMDAlIDEwMCUiLA0KICAgICAgfQ0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBsaXN0Q2F0ZWdvcmllcygpIHsNCiAgICAgIHRoaXMuYXhpb3MuZ2V0KCIvYXBpL2NhdGVnb3JpZXMvc2VhcmNoIikudGhlbigoeyBkYXRhIH0pID0+IHsNCiAgICAgICAgdGhpcy5jYXRlZ29yeUxpc3QgPSBkYXRhLmRhdGE7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGxpc3RUYWdzKCkgew0KICAgICAgdGhpcy5heGlvcy5nZXQoIi9hcGkvdGFncy9zZWFyY2giKS50aGVuKCh7IGRhdGEgfSkgPT4gew0KICAgICAgICB0aGlzLnRhZ0xpc3QgPSBkYXRhLmRhdGE7DQogICAgICB9KTsNCiAgICB9LA0KICAgIG9wZW5Nb2RlbCgpIHsNCiAgICAgIGlmICh0aGlzLmFydGljbGUuYXJ0aWNsZVRpdGxlLnRyaW0oKSA9PSAiIikgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLmlofnq6DmoIfpopjkuI3og73kuLrnqboiKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuYXJ0aWNsZS5hcnRpY2xlQ29udGVudC50cmltKCkgPT0gIiIpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5paH56ug5YaF5a655LiN6IO95Li656m6Iik7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICAgIHRoaXMubGlzdENhdGVnb3JpZXMoKTsNCiAgICAgIHRoaXMubGlzdFRhZ3MoKTsNCiAgICAgIHRoaXMuYWRkT3JFZGl0ID0gdHJ1ZTsNCiAgICB9LA0KICAgIHVwbG9hZENvdmVyKHJlc3BvbnNlKSB7DQogICAgICB0aGlzLmFydGljbGUuYXJ0aWNsZUNvdmVyID0gcmVzcG9uc2UuZGF0YTsNCiAgICB9LA0KICAgIGJlZm9yZVVwbG9hZChmaWxlKSB7DQogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsNCiAgICAgICAgaWYgKGZpbGUuc2l6ZSAvIDEwMjQgPCB0aGlzLmNvbmZpZy5VUExPQURfU0laRSkgew0KICAgICAgICAgIHJlc29sdmUoZmlsZSk7DQogICAgICAgIH0NCiAgICAgICAgLy8g5Y6L57yp5YiwMjAwS0Is6L+Z6YeM55qEMjAw5bCx5piv6KaB5Y6L57yp55qE5aSn5bCPLOWPr+iHquWumuS5iQ0KICAgICAgICBpbWFnZUNvbnZlcnNpb24NCiAgICAgICAgICAuY29tcHJlc3NBY2N1cmF0ZWx5KGZpbGUsIHRoaXMuY29uZmlnLlVQTE9BRF9TSVpFKQ0KICAgICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIHJlc29sdmUocmVzKTsNCiAgICAgICAgICB9KTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgdXBsb2FkSW1nKHBvcywgZmlsZSkgew0KICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKCk7DQogICAgICBpZiAoZmlsZS5zaXplIC8gMTAyNCA8IHRoaXMuY29uZmlnLlVQTE9BRF9TSVpFKSB7DQogICAgICAgIGZvcm1kYXRhLmFwcGVuZCgiZmlsZSIsIGZpbGUpOw0KICAgICAgICB0aGlzLmF4aW9zLnBvc3QoIi9hcGkvYXJ0aWNsZXMvaW1hZ2VzIiwgZm9ybWRhdGEpLnRoZW4oKHsgZGF0YSB9KSA9PiB7DQogICAgICAgICAgdGhpcy4kcmVmcy5tZC4kaW1nMlVybChwb3MsIGRhdGEuZGF0YSk7DQogICAgICAgIH0pOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgLy8g5Y6L57yp5YiwMjAwS0Is6L+Z6YeM55qEMjAw5bCx5piv6KaB5Y6L57yp55qE5aSn5bCPLOWPr+iHquWumuS5iQ0KICAgICAgICBpbWFnZUNvbnZlcnNpb24NCiAgICAgICAgICAuY29tcHJlc3NBY2N1cmF0ZWx5KGZpbGUsIHRoaXMuY29uZmlnLlVQTE9BRF9TSVpFKQ0KICAgICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIGZvcm1kYXRhLmFwcGVuZCgNCiAgICAgICAgICAgICAgImZpbGUiLA0KICAgICAgICAgICAgICBuZXcgd2luZG93LkZpbGUoW3Jlc10sIGZpbGUubmFtZSwgeyB0eXBlOiBmaWxlLnR5cGUgfSkNCiAgICAgICAgICAgICk7DQogICAgICAgICAgICB0aGlzLmF4aW9zDQogICAgICAgICAgICAgIC5wb3N0KCIvYXBpL2FydGljbGVzL2ltYWdlcyIsIGZvcm1kYXRhKQ0KICAgICAgICAgICAgICAudGhlbigoeyBkYXRhIH0pID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLm1kLiRpbWcyVXJsKHBvcywgZGF0YS5kYXRhKTsNCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgICBzYXZlQXJ0aWNsZURyYWZ0KCkgew0KICAgICAgaWYgKHRoaXMuYXJ0aWNsZS5hcnRpY2xlVGl0bGUudHJpbSgpID09ICIiKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuaWh+eroOagh+mimOS4jeiDveS4uuepuiIpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgICBpZiAodGhpcy5hcnRpY2xlLmFydGljbGVDb250ZW50LnRyaW0oKSA9PSAiIikgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLmlofnq6DlhoXlrrnkuI3og73kuLrnqboiKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgICAgdGhpcy5hcnRpY2xlLnN0YXR1cyA9IDM7DQogICAgICB0aGlzLmF4aW9zLnBvc3QoIi9hcGkvYXJ0aWNsZXMiLCB0aGlzLmFydGljbGUpLnRoZW4oKHsgZGF0YSB9KSA9PiB7DQogICAgICAgIGlmIChkYXRhLmZsYWcpIHsNCiAgICAgICAgICBpZiAodGhpcy5hcnRpY2xlLmlkID09PSBudWxsKSB7DQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInJlbW92ZVRhYiIsICLlj5HluIPmlofnq6AiKTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJyZW1vdmVUYWIiLCAi5L+u5pS55paH56ugIik7DQogICAgICAgICAgfQ0KICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oImFydGljbGUiKTsNCiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICIvIiB9KTsNCiAgICAgICAgICB0aGlzLiRub3RpZnkuc3VjY2Vzcyh7DQogICAgICAgICAgICB0aXRsZTogIuaIkOWKnyIsDQogICAgICAgICAgICBtZXNzYWdlOiAi5L+d5a2Y6I2J56i/5oiQ5YqfIiwNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRub3RpZnkuZXJyb3Ioew0KICAgICAgICAgICAgdGl0bGU6ICLlpLHotKUiLA0KICAgICAgICAgICAgbWVzc2FnZTogIuS/neWtmOiNieeov+Wksei0pSIsDQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KDQogICAgICAvL+WFs+mXreiHquWKqOS/neWtmOWKn+iDvQ0KICAgICAgdGhpcy5hdXRvU2F2ZSA9IGZhbHNlOw0KICAgIH0sDQogICAgc2F2ZU9yVXBkYXRlQXJ0aWNsZSgpIHsNCiAgICAgIGlmICh0aGlzLmFydGljbGUuYXJ0aWNsZVRpdGxlLnRyaW0oKSA9PSAiIikgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLmlofnq6DmoIfpopjkuI3og73kuLrnqboiKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuYXJ0aWNsZS5hcnRpY2xlQ29udGVudC50cmltKCkgPT0gIiIpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5paH56ug5YaF5a655LiN6IO95Li656m6Iik7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICAgIGlmICh0aGlzLmFydGljbGUuY2F0ZWdvcnlOYW1lID09IG51bGwpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5paH56ug5YiG57G75LiN6IO95Li656m6Iik7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICAgIGlmICh0aGlzLmFydGljbGUudGFnTmFtZUxpc3QubGVuZ3RoID09IDApIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5paH56ug5qCH562+5LiN6IO95Li656m6Iik7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICAgIC8vIGlmICh0aGlzLmFydGljbGUuYXJ0aWNsZUNvdmVyLnRyaW0oKSA9PSAiIikgew0KICAgICAgLy8gICB0aGlzLiRtZXNzYWdlLmVycm9yKCLmlofnq6DlsIHpnaLkuI3og73kuLrnqboiKTsNCiAgICAgIC8vICAgcmV0dXJuIGZhbHNlOw0KICAgICAgLy8gfQ0KICAgICAgdGhpcy5heGlvcy5wb3N0KCIvYXBpL2FydGljbGVzIiwgdGhpcy5hcnRpY2xlKS50aGVuKCh7IGRhdGEgfSkgPT4gew0KICAgICAgICBpZiAoZGF0YS5mbGFnKSB7DQogICAgICAgICAgaWYgKHRoaXMuYXJ0aWNsZS5pZCA9PT0gbnVsbCkgew0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJyZW1vdmVUYWIiLCAi5Y+R5biD5paH56ugIik7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgicmVtb3ZlVGFiIiwgIuS/ruaUueaWh+eroCIpOw0KICAgICAgICAgIH0NCiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCJhcnRpY2xlIik7DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiLyIgfSk7DQogICAgICAgICAgdGhpcy4kbm90aWZ5LnN1Y2Nlc3Moew0KICAgICAgICAgICAgdGl0bGU6ICLmiJDlip8iLA0KICAgICAgICAgICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlLA0KICAgICAgICAgIH0pOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG5vdGlmeS5lcnJvcih7DQogICAgICAgICAgICB0aXRsZTogIuWksei0pSIsDQogICAgICAgICAgICBtZXNzYWdlOiBkYXRhLm1lc3NhZ2UsDQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5hZGRPckVkaXQgPSBmYWxzZTsNCiAgICAgIH0pOw0KICAgICAgLy/lhbPpl63oh6rliqjkv53lrZjlip/og70NCiAgICAgIHRoaXMuYXV0b1NhdmUgPSBmYWxzZTsNCiAgICB9LA0KICAgIGF1dG9TYXZlQXJ0aWNsZSgpIHsNCiAgICAgIC8vIOiHquWKqOS4iuS8oOaWh+eroA0KICAgICAgaWYgKA0KICAgICAgICB0aGlzLmF1dG9TYXZlICYmDQogICAgICAgIHRoaXMuYXJ0aWNsZS5hcnRpY2xlVGl0bGUudHJpbSgpICE9ICIiICYmDQogICAgICAgIHRoaXMuYXJ0aWNsZS5hcnRpY2xlQ29udGVudC50cmltKCkgIT0gIiIgJiYNCiAgICAgICAgdGhpcy5hcnRpY2xlLmlkICE9IG51bGwNCiAgICAgICkgew0KICAgICAgICB0aGlzLmF4aW9zLnBvc3QoIi9hcGkvYXJ0aWNsZXMiLCB0aGlzLmFydGljbGUpLnRoZW4oKHsgZGF0YSB9KSA9PiB7DQogICAgICAgICAgaWYgKGRhdGEuZmxhZykgew0KICAgICAgICAgICAgdGhpcy4kbm90aWZ5LnN1Y2Nlc3Moew0KICAgICAgICAgICAgICB0aXRsZTogIuaIkOWKnyIsDQogICAgICAgICAgICAgIG1lc3NhZ2U6ICLoh6rliqjkv53lrZjmiJDlip8iLA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuJG5vdGlmeS5lcnJvcih7DQogICAgICAgICAgICAgIHRpdGxlOiAi5aSx6LSlIiwNCiAgICAgICAgICAgICAgbWVzc2FnZTogIuiHquWKqOS/neWtmOWksei0pSIsDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgICAgLy8g5L+d5a2Y5pys5Zyw5paH56ug6K6w5b2VDQogICAgICBpZiAodGhpcy5hdXRvU2F2ZSAmJiB0aGlzLmFydGljbGUuaWQgPT0gbnVsbCkgew0KICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJhcnRpY2xlIiwgSlNPTi5zdHJpbmdpZnkodGhpcy5hcnRpY2xlKSk7DQogICAgICB9DQogICAgfSwNCiAgICBzZWFyY2hDYXRlZ29yaWVzKGtleXdvcmRzLCBjYikgew0KICAgICAgdGhpcy5heGlvcw0KICAgICAgICAuZ2V0KCIvYXBpL2NhdGVnb3JpZXMvc2VhcmNoIiwgew0KICAgICAgICAgIHBhcmFtczogew0KICAgICAgICAgICAga2V5d29yZHM6IGtleXdvcmRzLA0KICAgICAgICAgIH0sDQogICAgICAgIH0pDQogICAgICAgIC50aGVuKCh7IGRhdGEgfSkgPT4gew0KICAgICAgICAgIGNiKGRhdGEuZGF0YSk7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgaGFuZGxlU2VsZWN0Q2F0ZWdvcmllcyhpdGVtKSB7DQogICAgICB0aGlzLmFkZENhdGVnb3J5KHsNCiAgICAgICAgY2F0ZWdvcnlOYW1lOiBpdGVtLmNhdGVnb3J5TmFtZSwNCiAgICAgIH0pOw0KICAgIH0sDQogICAgc2F2ZUNhdGVnb3J5KCkgew0KICAgICAgaWYgKHRoaXMuY2F0ZWdvcnlOYW1lLnRyaW0oKSAhPSAiIikgew0KICAgICAgICB0aGlzLmFkZENhdGVnb3J5KHsNCiAgICAgICAgICBjYXRlZ29yeU5hbWU6IHRoaXMuY2F0ZWdvcnlOYW1lLA0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy5jYXRlZ29yeU5hbWUgPSAiIjsNCiAgICAgIH0NCiAgICB9LA0KICAgIGFkZENhdGVnb3J5KGl0ZW0pIHsNCiAgICAgIHRoaXMuYXJ0aWNsZS5jYXRlZ29yeU5hbWUgPSBpdGVtLmNhdGVnb3J5TmFtZTsNCiAgICB9LA0KICAgIHJlbW92ZUNhdGVnb3J5KCkgew0KICAgICAgdGhpcy5hcnRpY2xlLmNhdGVnb3J5TmFtZSA9IG51bGw7DQogICAgfSwNCiAgICBzZWFyY2hUYWdzKGtleXdvcmRzLCBjYikgew0KICAgICAgdGhpcy5heGlvcw0KICAgICAgICAuZ2V0KCIvYXBpL3RhZ3Mvc2VhcmNoIiwgew0KICAgICAgICAgIHBhcmFtczogew0KICAgICAgICAgICAga2V5d29yZHM6IGtleXdvcmRzLA0KICAgICAgICAgIH0sDQogICAgICAgIH0pDQogICAgICAgIC50aGVuKCh7IGRhdGEgfSkgPT4gew0KICAgICAgICAgIGNiKGRhdGEuZGF0YSk7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgaGFuZGxlU2VsZWN0VGFnKGl0ZW0pIHsNCiAgICAgIHRoaXMuYWRkVGFnKHsNCiAgICAgICAgdGFnTmFtZTogaXRlbS50YWdOYW1lLA0KICAgICAgfSk7DQogICAgfSwNCiAgICBzYXZlVGFnKCkgew0KICAgICAgaWYgKHRoaXMudGFnTmFtZS50cmltKCkgIT0gIiIpIHsNCiAgICAgICAgdGhpcy5hZGRUYWcoew0KICAgICAgICAgIHRhZ05hbWU6IHRoaXMudGFnTmFtZSwNCiAgICAgICAgfSk7DQogICAgICAgIHRoaXMudGFnTmFtZSA9ICIiOw0KICAgICAgfQ0KICAgIH0sDQogICAgYWRkVGFnKGl0ZW0pIHsNCiAgICAgIGlmICh0aGlzLmFydGljbGUudGFnTmFtZUxpc3QuaW5kZXhPZihpdGVtLnRhZ05hbWUpID09IC0xKSB7DQogICAgICAgIHRoaXMuYXJ0aWNsZS50YWdOYW1lTGlzdC5wdXNoKGl0ZW0udGFnTmFtZSk7DQogICAgICB9DQogICAgfSwNCiAgICByZW1vdmVUYWcoaXRlbSkgew0KICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmFydGljbGUudGFnTmFtZUxpc3QuaW5kZXhPZihpdGVtKTsNCiAgICAgIHRoaXMuYXJ0aWNsZS50YWdOYW1lTGlzdC5zcGxpY2UoaW5kZXgsIDEpOw0KICAgIH0sDQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgdGFnQ2xhc3MoKSB7DQogICAgICByZXR1cm4gZnVuY3Rpb24gKGl0ZW0pIHsNCiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmFydGljbGUudGFnTmFtZUxpc3QuaW5kZXhPZihpdGVtLnRhZ05hbWUpOw0KICAgICAgICByZXR1cm4gaW5kZXggIT0gLTEgPyAidGFnLWl0ZW0tc2VsZWN0IiA6ICJ0YWctaXRlbSI7DQogICAgICB9Ow0KICAgIH0sDQogICAgLy8gY292ZXIoKSB7DQogICAgLy8gICB2YXIgY292ZXIgPSAiIjsNCiAgICAvLyAgIHRoaXMuJHN0b3JlLnN0YXRlLmJsb2dJbmZvLnBhZ2VMaXN0LmZvckVhY2goKGl0ZW0pID0+IHsNCiAgICAvLyAgICAgaWYgKGl0ZW0ucGFnZUxhYmVsID09ICJsaW5rIikgew0KICAgIC8vICAgICAgIGNvdmVyID0gaXRlbS5wYWdlQ292ZXI7DQogICAgLy8gICAgIH0NCiAgICAvLyAgIH0pOw0KICAgIC8vICAgcmV0dXJuICJiYWNrZ3JvdW5kOiB1cmwoIiArIGNvdmVyICsgIikgY2VudGVyIGNlbnRlciAvIGNvdmVyIG5vLXJlcGVhdCI7DQogICAgLy8gfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["Edit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Edit.vue","sourceRoot":"src/views/edit","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"banner\" :style=\"cover\">\r\n      <h1 class=\"banner-title\">{{ this.$route.meta.title }}</h1>\r\n    </div>\r\n    <v-card class=\"blog-container\">\r\n      <div class=\"title\">{{ this.$route.meta.title }}</div>\r\n      <div class=\"article-title-container\">\r\n        <el-input\r\n          v-model=\"article.articleTitle\"\r\n          size=\"medium\"\r\n          placeholder=\"输入文章标题\"\r\n        />\r\n        <el-button\r\n          type=\"danger\"\r\n          size=\"medium\"\r\n          class=\"save-btn\"\r\n          @click=\"saveArticleDraft\"\r\n          v-if=\"article.id == null || article.status == 3\"\r\n        >\r\n          保存草稿\r\n        </el-button>\r\n        <el-button\r\n          type=\"danger\"\r\n          size=\"medium\"\r\n          @click=\"openModel\"\r\n          style=\"margin-left: 10px\"\r\n        >\r\n          发布文章\r\n        </el-button>\r\n      </div>\r\n      <!-- 文章内容 -->\r\n      <mavon-editor\r\n        ref=\"md\"\r\n        v-model=\"article.articleContent\"\r\n        @imgAdd=\"uploadImg\"\r\n        style=\"height: calc(100vh - 260px)\"\r\n      />\r\n      <!-- 添加文章对话框 -->\r\n      <el-dialog :visible.sync=\"addOrEdit\" width=\"40%\" top=\"3vh\">\r\n        <div class=\"dialog-title-container\" slot=\"title\">发布文章</div>\r\n        <!-- 文章数据 -->\r\n        <el-form label-width=\"80px\" size=\"medium\" :model=\"article\">\r\n          <!-- 文章分类 -->\r\n          <el-form-item label=\"文章分类\">\r\n            <el-tag\r\n              type=\"success\"\r\n              v-show=\"article.categoryName\"\r\n              style=\"margin: 0 1rem 0 0\"\r\n              :closable=\"true\"\r\n              @close=\"removeCategory\"\r\n            >\r\n              {{ article.categoryName }}\r\n            </el-tag>\r\n            <!-- 分类选项 -->\r\n            <el-popover\r\n              placement=\"bottom-start\"\r\n              width=\"460\"\r\n              trigger=\"click\"\r\n              v-if=\"!article.categoryName\"\r\n            >\r\n              <div class=\"popover-title\">分类</div>\r\n              <!-- 搜索框 -->\r\n              <el-autocomplete\r\n                style=\"width: 100%\"\r\n                v-model=\"categoryName\"\r\n                :fetch-suggestions=\"searchCategories\"\r\n                placeholder=\"请输入分类名搜索，enter可添加自定义分类\"\r\n                :trigger-on-focus=\"false\"\r\n                @keyup.enter.native=\"saveCategory\"\r\n                @select=\"handleSelectCategories\"\r\n              >\r\n                <template slot-scope=\"{ item }\">\r\n                  <div>{{ item.categoryName }}</div>\r\n                </template>\r\n              </el-autocomplete>\r\n              <!-- 分类 -->\r\n              <div class=\"popover-container\">\r\n                <div\r\n                  v-for=\"item of categoryList\"\r\n                  :key=\"item.id\"\r\n                  class=\"category-item\"\r\n                  @click=\"addCategory(item)\"\r\n                >\r\n                  {{ item.categoryName }}\r\n                </div>\r\n              </div>\r\n              <el-button type=\"success\" plain slot=\"reference\" size=\"small\">\r\n                添加分类\r\n              </el-button>\r\n            </el-popover>\r\n          </el-form-item>\r\n          <!-- 文章标签 -->\r\n          <el-form-item label=\"文章标签\">\r\n            <el-tag\r\n              v-for=\"(item, index) of article.tagNameList\"\r\n              :key=\"index\"\r\n              style=\"margin: 0 1rem 0 0\"\r\n              :closable=\"true\"\r\n              @close=\"removeTag(item)\"\r\n            >\r\n              {{ item }}\r\n            </el-tag>\r\n            <!-- 标签选项 -->\r\n            <el-popover\r\n              placement=\"bottom-start\"\r\n              width=\"460\"\r\n              trigger=\"click\"\r\n              v-if=\"article.tagNameList.length < 3\"\r\n            >\r\n              <div class=\"popover-title\">标签</div>\r\n              <!-- 搜索框 -->\r\n              <el-autocomplete\r\n                style=\"width: 100%\"\r\n                v-model=\"tagName\"\r\n                :fetch-suggestions=\"searchTags\"\r\n                placeholder=\"请输入标签名搜索，enter可添加自定义标签\"\r\n                :trigger-on-focus=\"false\"\r\n                @keyup.enter.native=\"saveTag\"\r\n                @select=\"handleSelectTag\"\r\n              >\r\n                <template slot-scope=\"{ item }\">\r\n                  <div>{{ item.tagName }}</div>\r\n                </template>\r\n              </el-autocomplete>\r\n              <!-- 标签 -->\r\n              <div class=\"popover-container\">\r\n                <div style=\"margin-bottom: 1rem\">添加标签</div>\r\n                <el-tag\r\n                  v-for=\"(item, index) of tagList\"\r\n                  :key=\"index\"\r\n                  :class=\"tagClass(item)\"\r\n                  @click=\"addTag(item)\"\r\n                >\r\n                  {{ item.tagName }}\r\n                </el-tag>\r\n              </div>\r\n              <el-button type=\"primary\" plain slot=\"reference\" size=\"small\">\r\n                添加标签\r\n              </el-button>\r\n            </el-popover>\r\n          </el-form-item>\r\n          <el-form-item label=\"文章类型\">\r\n            <el-select v-model=\"article.type\" placeholder=\"请选择类型\">\r\n              <el-option\r\n                v-for=\"item in typeList\"\r\n                :key=\"item.type\"\r\n                :label=\"item.desc\"\r\n                :value=\"item.type\"\r\n              />\r\n            </el-select>\r\n          </el-form-item>\r\n          <!-- 文章类型 -->\r\n          <el-form-item label=\"原文地址\" v-if=\"article.type != 1\">\r\n            <el-input\r\n              v-model=\"article.originalUrl\"\r\n              placeholder=\"请填写原文链接\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"上传封面\">\r\n            <el-upload\r\n              class=\"upload-cover\"\r\n              drag\r\n              action=\"/api/articles/images\"\r\n              multiple\r\n              :before-upload=\"beforeUpload\"\r\n              :on-success=\"uploadCover\"\r\n            >\r\n              <i class=\"el-icon-upload\" v-if=\"article.articleCover == ''\" />\r\n              <div class=\"el-upload__text\" v-if=\"article.articleCover == ''\">\r\n                将文件拖到此处，或<em>点击上传</em>\r\n              </div>\r\n              <img\r\n                v-else\r\n                :src=\"article.articleCover\"\r\n                width=\"360px\"\r\n                height=\"180px\"\r\n              />\r\n            </el-upload>\r\n          </el-form-item>\r\n          <el-form-item label=\"置顶\">\r\n            <el-switch\r\n              v-model=\"article.isTop\"\r\n              active-color=\"#13ce66\"\r\n              inactive-color=\"#F4F4F5\"\r\n              :active-value=\"1\"\r\n              :inactive-value=\"0\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"发布形式\">\r\n            <el-radio-group v-model=\"article.status\">\r\n              <el-radio :label=\"1\">公开</el-radio>\r\n              <el-radio :label=\"2\">私密</el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\">\r\n          <el-button @click=\"addOrEdit = false\">取 消</el-button>\r\n          <el-button type=\"danger\" @click=\"saveOrUpdateArticle\">\r\n            发 表\r\n          </el-button>\r\n        </div>\r\n      </el-dialog>\r\n    </v-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as imageConversion from \"image-conversion\";\r\nexport default {\r\n  created() {\r\n    const path = this.$route.path;\r\n    const arr = path.split(\"/\");\r\n    const articleId = arr[2];\r\n    if (articleId) {\r\n      this.axios.get(\"/api/edit/\" + articleId).then(({ data }) => {\r\n        this.article = data.data;\r\n      });\r\n    } else {\r\n      const article = sessionStorage.getItem(\"article\");\r\n      if (article) {\r\n        this.article = JSON.parse(article);\r\n      }\r\n    }\r\n  },\r\n  destroyed() {\r\n    //文章自动保存功能\r\n    this.autoSaveArticle();\r\n  },\r\n  data: function () {\r\n    return {\r\n      addOrEdit: false,\r\n      autoSave: true,\r\n      categoryName: \"\",\r\n      tagName: \"\",\r\n      categoryList: [],\r\n      tagList: [],\r\n      typeList: [\r\n        {\r\n          type: 1,\r\n          desc: \"原创\",\r\n        },\r\n        {\r\n          type: 2,\r\n          desc: \"转载\",\r\n        },\r\n        {\r\n          type: 3,\r\n          desc: \"翻译\",\r\n        },\r\n      ],\r\n      article: {\r\n        id: null,\r\n        articleTitle: this.$moment(new Date()).format(\"YYYY-MM-DD\"),\r\n        articleContent: \"\",\r\n        articleCover: \"\",\r\n        categoryName: null,\r\n        tagNameList: [],\r\n        originalUrl: \"\",\r\n        isTop: 0,\r\n        type: 1,\r\n        status: 1,\r\n      },\r\n      cover:{\r\n      backgroundImage: \"url(\" + require(\"../../assets/fig/edit.png\") + \")\",\r\n      backgroundRepeat: \"no-repeat\",\r\n      backgroundPosition:\"center center\",\r\n      opacity:1,\r\n      backgroundSize: \"100% 100%\",\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    listCategories() {\r\n      this.axios.get(\"/api/categories/search\").then(({ data }) => {\r\n        this.categoryList = data.data;\r\n      });\r\n    },\r\n    listTags() {\r\n      this.axios.get(\"/api/tags/search\").then(({ data }) => {\r\n        this.tagList = data.data;\r\n      });\r\n    },\r\n    openModel() {\r\n      if (this.article.articleTitle.trim() == \"\") {\r\n        this.$message.error(\"文章标题不能为空\");\r\n        return false;\r\n      }\r\n      if (this.article.articleContent.trim() == \"\") {\r\n        this.$message.error(\"文章内容不能为空\");\r\n        return false;\r\n      }\r\n      this.listCategories();\r\n      this.listTags();\r\n      this.addOrEdit = true;\r\n    },\r\n    uploadCover(response) {\r\n      this.article.articleCover = response.data;\r\n    },\r\n    beforeUpload(file) {\r\n      return new Promise((resolve) => {\r\n        if (file.size / 1024 < this.config.UPLOAD_SIZE) {\r\n          resolve(file);\r\n        }\r\n        // 压缩到200KB,这里的200就是要压缩的大小,可自定义\r\n        imageConversion\r\n          .compressAccurately(file, this.config.UPLOAD_SIZE)\r\n          .then((res) => {\r\n            resolve(res);\r\n          });\r\n      });\r\n    },\r\n    uploadImg(pos, file) {\r\n      var formdata = new FormData();\r\n      if (file.size / 1024 < this.config.UPLOAD_SIZE) {\r\n        formdata.append(\"file\", file);\r\n        this.axios.post(\"/api/articles/images\", formdata).then(({ data }) => {\r\n          this.$refs.md.$img2Url(pos, data.data);\r\n        });\r\n      } else {\r\n        // 压缩到200KB,这里的200就是要压缩的大小,可自定义\r\n        imageConversion\r\n          .compressAccurately(file, this.config.UPLOAD_SIZE)\r\n          .then((res) => {\r\n            formdata.append(\r\n              \"file\",\r\n              new window.File([res], file.name, { type: file.type })\r\n            );\r\n            this.axios\r\n              .post(\"/api/articles/images\", formdata)\r\n              .then(({ data }) => {\r\n                this.$refs.md.$img2Url(pos, data.data);\r\n              });\r\n          });\r\n      }\r\n    },\r\n    saveArticleDraft() {\r\n      if (this.article.articleTitle.trim() == \"\") {\r\n        this.$message.error(\"文章标题不能为空\");\r\n        return false;\r\n      }\r\n      if (this.article.articleContent.trim() == \"\") {\r\n        this.$message.error(\"文章内容不能为空\");\r\n        return false;\r\n      }\r\n      this.article.status = 3;\r\n      this.axios.post(\"/api/articles\", this.article).then(({ data }) => {\r\n        if (data.flag) {\r\n          if (this.article.id === null) {\r\n            this.$store.commit(\"removeTab\", \"发布文章\");\r\n          } else {\r\n            this.$store.commit(\"removeTab\", \"修改文章\");\r\n          }\r\n          sessionStorage.removeItem(\"article\");\r\n          this.$router.push({ path: \"/\" });\r\n          this.$notify.success({\r\n            title: \"成功\",\r\n            message: \"保存草稿成功\",\r\n          });\r\n        } else {\r\n          this.$notify.error({\r\n            title: \"失败\",\r\n            message: \"保存草稿失败\",\r\n          });\r\n        }\r\n      });\r\n\r\n      //关闭自动保存功能\r\n      this.autoSave = false;\r\n    },\r\n    saveOrUpdateArticle() {\r\n      if (this.article.articleTitle.trim() == \"\") {\r\n        this.$message.error(\"文章标题不能为空\");\r\n        return false;\r\n      }\r\n      if (this.article.articleContent.trim() == \"\") {\r\n        this.$message.error(\"文章内容不能为空\");\r\n        return false;\r\n      }\r\n      if (this.article.categoryName == null) {\r\n        this.$message.error(\"文章分类不能为空\");\r\n        return false;\r\n      }\r\n      if (this.article.tagNameList.length == 0) {\r\n        this.$message.error(\"文章标签不能为空\");\r\n        return false;\r\n      }\r\n      // if (this.article.articleCover.trim() == \"\") {\r\n      //   this.$message.error(\"文章封面不能为空\");\r\n      //   return false;\r\n      // }\r\n      this.axios.post(\"/api/articles\", this.article).then(({ data }) => {\r\n        if (data.flag) {\r\n          if (this.article.id === null) {\r\n            this.$store.commit(\"removeTab\", \"发布文章\");\r\n          } else {\r\n            this.$store.commit(\"removeTab\", \"修改文章\");\r\n          }\r\n          sessionStorage.removeItem(\"article\");\r\n          this.$router.push({ path: \"/\" });\r\n          this.$notify.success({\r\n            title: \"成功\",\r\n            message: data.message,\r\n          });\r\n        } else {\r\n          this.$notify.error({\r\n            title: \"失败\",\r\n            message: data.message,\r\n          });\r\n        }\r\n        this.addOrEdit = false;\r\n      });\r\n      //关闭自动保存功能\r\n      this.autoSave = false;\r\n    },\r\n    autoSaveArticle() {\r\n      // 自动上传文章\r\n      if (\r\n        this.autoSave &&\r\n        this.article.articleTitle.trim() != \"\" &&\r\n        this.article.articleContent.trim() != \"\" &&\r\n        this.article.id != null\r\n      ) {\r\n        this.axios.post(\"/api/articles\", this.article).then(({ data }) => {\r\n          if (data.flag) {\r\n            this.$notify.success({\r\n              title: \"成功\",\r\n              message: \"自动保存成功\",\r\n            });\r\n          } else {\r\n            this.$notify.error({\r\n              title: \"失败\",\r\n              message: \"自动保存失败\",\r\n            });\r\n          }\r\n        });\r\n      }\r\n      // 保存本地文章记录\r\n      if (this.autoSave && this.article.id == null) {\r\n        sessionStorage.setItem(\"article\", JSON.stringify(this.article));\r\n      }\r\n    },\r\n    searchCategories(keywords, cb) {\r\n      this.axios\r\n        .get(\"/api/categories/search\", {\r\n          params: {\r\n            keywords: keywords,\r\n          },\r\n        })\r\n        .then(({ data }) => {\r\n          cb(data.data);\r\n        });\r\n    },\r\n    handleSelectCategories(item) {\r\n      this.addCategory({\r\n        categoryName: item.categoryName,\r\n      });\r\n    },\r\n    saveCategory() {\r\n      if (this.categoryName.trim() != \"\") {\r\n        this.addCategory({\r\n          categoryName: this.categoryName,\r\n        });\r\n        this.categoryName = \"\";\r\n      }\r\n    },\r\n    addCategory(item) {\r\n      this.article.categoryName = item.categoryName;\r\n    },\r\n    removeCategory() {\r\n      this.article.categoryName = null;\r\n    },\r\n    searchTags(keywords, cb) {\r\n      this.axios\r\n        .get(\"/api/tags/search\", {\r\n          params: {\r\n            keywords: keywords,\r\n          },\r\n        })\r\n        .then(({ data }) => {\r\n          cb(data.data);\r\n        });\r\n    },\r\n    handleSelectTag(item) {\r\n      this.addTag({\r\n        tagName: item.tagName,\r\n      });\r\n    },\r\n    saveTag() {\r\n      if (this.tagName.trim() != \"\") {\r\n        this.addTag({\r\n          tagName: this.tagName,\r\n        });\r\n        this.tagName = \"\";\r\n      }\r\n    },\r\n    addTag(item) {\r\n      if (this.article.tagNameList.indexOf(item.tagName) == -1) {\r\n        this.article.tagNameList.push(item.tagName);\r\n      }\r\n    },\r\n    removeTag(item) {\r\n      const index = this.article.tagNameList.indexOf(item);\r\n      this.article.tagNameList.splice(index, 1);\r\n    },\r\n  },\r\n  computed: {\r\n    tagClass() {\r\n      return function (item) {\r\n        const index = this.article.tagNameList.indexOf(item.tagName);\r\n        return index != -1 ? \"tag-item-select\" : \"tag-item\";\r\n      };\r\n    },\r\n    // cover() {\r\n    //   var cover = \"\";\r\n    //   this.$store.state.blogInfo.pageList.forEach((item) => {\r\n    //     if (item.pageLabel == \"link\") {\r\n    //       cover = item.pageCover;\r\n    //     }\r\n    //   });\r\n    //   return \"background: url(\" + cover + \") center center / cover no-repeat\";\r\n    // },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.banner {\r\n  position: absolute;\r\n  top: -60px;\r\n  left: 0;\r\n  right: 0;\r\n  height: 150vh;\r\n  background-attachment: fixed;\r\n  text-align: center;\r\n  color: #fff !important;\r\n  animation: header-effect 1s;\r\n}\r\n.article-title-container {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 1.25rem;\r\n  margin-top: 2.25rem;\r\n}\r\n.save-btn {\r\n  margin-left: 0.75rem;\r\n  background: #fff;\r\n  color: #f56c6c;\r\n}\r\n.tag-item {\r\n  margin-right: 1rem;\r\n  margin-bottom: 1rem;\r\n  cursor: pointer;\r\n}\r\n.tag-item-select {\r\n  margin-right: 1rem;\r\n  margin-bottom: 1rem;\r\n  cursor: not-allowed;\r\n  color: #ccccd8 !important;\r\n}\r\n.category-item {\r\n  cursor: pointer;\r\n  padding: 0.6rem 0.5rem;\r\n}\r\n.category-item:hover {\r\n  background-color: #f0f9eb;\r\n  color: #67c23a;\r\n}\r\n.popover-title {\r\n  margin-bottom: 1rem;\r\n  text-align: center;\r\n}\r\n.popover-container {\r\n  margin-top: 1rem;\r\n  height: 260px;\r\n  overflow-y: auto;\r\n}\r\n</style>\r\n"]}]}